<% include ../partials/header %>

<div class="container">

    <div class="jumbotron text-center">
        <h1>
            <i class="fa fa-pie-chart" aria-hidden="true"></i> FCC Voting App
        </h1>
        <p>Vote on The Current Polls or Create Your Own.</p>
        <p>
            <a class="btn btn-primary btn-lg" href="/polls/new" role="button">
                <i class="fa fa-plus" aria-hidden="true"></i> New Poll
            </a>
        </p>
    </div>

    <div class="row">
        <div class="col-md-12">

            <h1 class="text-center">Current Polls</h1>
            <hr>

            <% polls.forEach((poll, index) => { %>
                <div class="col-sm-4">
                    <div class="well">
                        <h3>
                            <%= poll.title %>
                        </h3>
                        
                        <p>
                            <span class="text-muted">
                                by <%= poll.author.username %> - <%= new Date(poll.createdAt).toDateString() %>
                            </span>
                            <span class="label label-primary pull-right">
                                <%= poll.totalVotes %> Votes
                            </span>
                        </p>

                        <a class="btn btn-sm btn-success" href="/polls/<%= poll._id %>">
                            <i class="fa fa-check-circle" aria-hidden="true"></i> Vote On This Poll
                        </a>
                    </div>
                </div>

                <% if (((index + 1) % 3) === 0) { %>
                    <div class="clearfix"></div>
                <% } %>
            <% })%>
        
        </div>
    </div>

</div>

<% include ../partials/footer %>